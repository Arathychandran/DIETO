<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Profile</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Bootstrap CSS for layout -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color:linear-gradient(135deg, #74ebd5, #acb6e5); /* Light background */
      color: #333; /* Text color */
      padding: 20px; /* Padding for the entire page */
    }

    header {
      background-color: linear-gradient(135deg, #74ebd5, #acb6e5); /* Green header for food theme */
      color: rgb(63, 62, 62);
      padding: 20px;
      text-align: center;
    }

    .profile-header {
      margin: 30px 0;
    }

    .profile-header h2 {
      font-weight: 600;
      margin-bottom: 10px;
    }

    .profile-section {
      margin-bottom: 25px;
      background: rgba(181, 246, 204, 0.498);
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .profile-section h4 {
      color: #28a745; /* Green heading */
      border-bottom: 2px solid #28a745; /* Border to match theme */
      padding-bottom: 10px;
      margin-bottom: 15px;
    }

    .profile-section p {
      color: rgb(63, 62, 62);
      margin: 5px 0;
    }

    .card {
      margin-bottom: 20px;
      background-color: #f9f9f9; /* Slightly darker for cards */
      border-radius: 10px;
    }

    .card-header {
      background-color: linear-gradient(135deg, #74ebd5, #acb6e5); /* Match header color */
      color: #fff;
      border-radius: 10px 10px 0 0;
    }

    .btn-custom {
      background-color:linear-gradient(135deg, #74ebd5, #acb6e5); /* Green button */
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
      transition: background-color 0.3s;
    }

    .btn-custom:hover {
      background-color: linear-gradient(135deg, #74ebd5, #acb6e5); /* Darker green on hover */
    }

    footer {
      text-align: center;
      margin-top: 30px;
      padding: 20px;
      background-color: #f1f1f1;
      border-radius: 5px;
    }
  </style>
</head>

<body>
  <header>
    <h2>User Profile</h2>
    <p>Welcome, {{ user.name }}</p>
  </header>

  <!-- Personal Details -->
  <div class="profile-section">
    <h4>Personal Information</h4>
    <p><strong>Name:</strong> {{ user.name }}</p>
    <p><strong>Email:</strong> {{ user.email }}</p>
    <p><strong>Account Created:</strong> {{ user.created_at }}</p>
    <p><strong>User Type:</strong> {{ user.user_type }}</p>
  </div>

  <!-- Goals Section -->
  <div class="profile-section">
    <h4>Your Goals</h4>
    {% if goals %}
      {% for goal in goals %}
      <div class="card">
        <div class="card-header">
          Goal ID: {{ goal.goal_id }}
        </div>
        <div class="card-body">
          <p><strong>Description:</strong> {{ goal.goal_description }}</p>
          <p><strong>Current Weight:</strong> {{ goal.current_weight }} kg</p>
          <p><strong>Target Weight:</strong> {{ goal.target_weight }} kg</p>
          <p><strong>Target Date:</strong> {{ goal.target_date }}</p>
        </div>
      </div>
      {% endfor %}
    {% else %}
      <p>You haven't set any goals yet.</p>
    {% endif %}
  </div>

  <!-- Diet Plan Section -->
  <div class="profile-section">
    <h4>Your Diet Plan</h4>
    {% if diet_plans %}
      {% for plan in diet_plans %}
      <div class="card">
        <div class="card-header">
          Plan ID: {{ plan.plan_id }} (Assigned by Dietitian ID: {{ plan.dietitian_id }})
        </div>
        <div class="card-body">
          <p><strong>Diet Description:</strong> {{ plan.diet_description }}</p>
          <p><strong>Assigned On:</strong> {{ plan.created_at }}</p>
        </div>
      </div>
      {% endfor %}
    {% else %}
      <p>No diet plans assigned yet.</p>
    {% endif %}
  </div>

  <!-- Progress Section -->
  <div class="profile-section">
    <h4>Your Progress</h4>
    {% if progress %}
      {% for prog in progress %}
      <div class="card">
        <div class="card-header">
          Progress ID: {{ prog.progress_id }}
        </div>
        <div class="card-body">
          <p><strong>Description:</strong> {{ prog.progress_description }}</p>
          <p><strong>Date:</strong> {{ prog.progress_date }}</p>
        </div>
      </div>
      {% endfor %}
    {% else %}
      <p>No progress records found.</p>
    {% endif %}
  </div>

  <footer>
    <button class="btn-custom">Edit Profile</button>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
